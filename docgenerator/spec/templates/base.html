{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<title>{% block fulltitle %}{% block title %}{% endblock %} | {{ SITE_OPTIONS.site_name }}{% endblock %}</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="{% relative_url_string '/static/styles.css' %}">
{% block extrahead %}{% endblock %}
</head>

<body class="has-sidenav">
{% block content_full %}
<div class="content">

    <button id="toggle" class="toggle">
        <span class="toggle-text">Toggle sidebar</span>
    </button>

    <nav class="sidenav">
        <ul>
            <li><a href="#">Nav 1</a></li>
            <li><a href="#">Nav 2</a></li>
            <li><a href="#">Nav 3</a></li>
            <li><a href="#">Nav 4</a></li>
            <li><a href="#">Nav 5</a></li>
            <li><a href="#">Nav 6</a></li>
            <li><a href="#">Nav 1</a></li>
            <li><a href="#">Nav 2</a></li>
            <li><a href="#">Nav 3</a></li>
            <li><a href="#">Nav 4</a></li>
            <li><a href="#">Nav 5</a></li>
            <li><a href="#">Nav 6</a></li>
            <li><a href="#">Nav 1</a></li>
            <li><a href="#">Nav 2</a></li>
            <li><a href="#">Nav 3</a></li>
            <li><a href="#">Nav 4</a></li>
            <li><a href="#">Nav 5</a></li>
            <li><a href="#">Nav 6</a></li>
            <li><a href="#">Nav 1</a></li>
            <li><a href="#">Nav 2</a></li>
            <li><a href="#">Nav 3</a></li>
            <li><a href="#">Nav 4</a></li>
            <li><a href="#">Nav 5</a></li>
            <li><a href="#">Nav 6</a></li>
        </ul>
    </nav>
    <main>
    {% block content %}{% endblock %}
    </main>
</div>
{% endblock %}

<script>
    (function(){
        let mq = window.matchMedia('(max-width: 800px)');

        if(mq.matches) {
            document.body.classList.remove("has-sidenav");
        }

        mq.addEventListener('change', (e) => {
            if(mq.matches) {
                document.body.classList.remove("has-sidenav");
            }
        });

        let toggle = document.getElementById('toggle');
        toggle.addEventListener('click', (e) => {
            document.body.classList.toggle("has-sidenav");
        });
    })();
</script>
{% block finalscript %}{% endblock %}
</body>
</html>
